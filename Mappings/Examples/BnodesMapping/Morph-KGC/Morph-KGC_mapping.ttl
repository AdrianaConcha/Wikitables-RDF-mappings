@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#>.
@prefix transit: <http://vocab.org/transit/terms/>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos#>.
@prefix wd: <http://www.wikidata.org/entity/>.
@prefix wds: <http://www.wikidata.org/entity/statement/>.
@prefix wdv: <http://www.wikidata.org/value/>.
@prefix wdt: <http://www.wikidata.org/prop/direct/>.
@prefix p: <http://www.wikidata.org/prop/>.
@prefix ps: <http://www.wikidata.org/prop/statement/>.
@prefix pq: <http://www.wikidata.org/prop/qualifier/>.
@base <http://example.com/ns#>.


<#BnodesMapping> a rr:TriplesMap;
 	rml:logicalSource [
        	rml:source  "../Input/bnodesMapping.csv";
        	rml:referenceFormulation ql:CSV
        ];
  	rr:subjectMap [
    		rr:template "http://www.wikidata.org/entity/{Title}";
   	];
  	rr:predicateObjectMap [
    		rr:predicate wdt:P674;
    		rr:objectMap [
       		   rr:template "http://www.wikidata.org/entity/{Role}"
    		]
	];
  	rr:predicateObjectMap [
    		rr:predicate p:P161;
    		rr:objectMap [
			         rr:parentTriplesMap <#Cast>;
  			       rr:joinCondition [
        	           rr:child "Title";
        			     rr:parent "Title";
      			   ];	
		      ]
        ]. 
<#Cast> a rr:TriplesMap;
 	rml:logicalSource [
        	rml:source  "../Input/bnodesMapping.csv";
        	rml:referenceFormulation ql:CSV
        ];
  	rr:subjectMap [
	    rr:template "{ArticleEntity}_{Title}_{Role}";
            rr:termType rr:BlankNode		
  	];
  	rr:predicateObjectMap [
    		rr:predicate ps:P161;
    		rr:objectMap [
       			rr:template "http://www.wikidata.org/entity/{ArticleEntity}"
    		]
	];
  	rr:predicateObjectMap [
    		rr:predicate  pq:P453;
    		rr:objectMap [
       			rr:template "http://www.wikidata.org/entity/{Role}"
    		]
	].
<Role> a rr:TriplesMap;
	rml:logicalSource[
        	rml:source  "../Input/bnodesMapping.csv";
        	rml:referenceFormulation ql:CSV
        ];
  	rr:subjectMap [
    		rr:template "http://www.wikidata.org/entity/{Role}";
  	];
  	rr:predicateObjectMap [
    		rr:predicate wdt:P1441;
    		rr:objectMap [
       			rr:template "http://www.wikidata.org/entity/{Title}"
    		]
	]. 
<Actor> a rr:TriplesMap;
 	rml:logicalSource [
        	rml:source  "../Input/bnodesMapping.csv";
        	rml:referenceFormulation ql:CSV
        ];
  	rr:subjectMap [
    		rr:template "http://www.wikidata.org/entity/{ArticleEntity}";
   	];
  	rr:predicateObjectMap [
    		rr:predicate wdt:P106;
    		rr:objectMap [
       			rr:constant wd:Q33999
    		]
	]. 





